<!DOCTYPE html>
<html>
<head>
    <link href="styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <title>rockPaperScissor with UI</title>
    <meta charset= 'UTF-8'/>
</head>
<body>
    <div id="title">
   <h1>ROCK PAPER SCISSORS</h1>
</div>
    
<div id="winnerMessage"></div>


   <div id="button">
    <button class = "rock">Rock</button>
    <button class = "scissor">Scissor</button>
    <button class = "paper">Paper</button>
</div>

<div id="container">

</div>

<script>
function computerPlay() {
    
    let x = Math.floor(Math.random() * 3)
    
    if (x == 0) {
        return 'rock'
    } else if (x == 1) {
        return 'paper'
    } else {
        return 'scissor'
    }
}



let x = 0;
let y = 0;



function playRound(playerSelection, computerSelection) {

    if (playerSelection == 'rock' && computerSelection == 'paper') {
        return "You Lose! Paper beats Rock";
        
    } else if (playerSelection == 'paper' && computerSelection == 'rock') {
    return "You Win! Paper beats Rock";
        
    } else if (playerSelection == 'rock' && computerSelection == 'scissor') {
    return "You Win! Rock beats Scissor";
        
    } else if (playerSelection == 'scissor' && computerSelection == 'rock') {
    return "You Lose! Rock beats Scissor";
        
    } else if (playerSelection == 'paper' && computerSelection == 'scissor') {
    return "You Lose! Scissors beats Paper";
        
    } else if (playerSelection == 'scissor' && computerSelection == 'paper') {
    return "You Win! Scissors beats Paper";
        
    } else if (playerSelection == computerSelection) {
        return 'draw'
    }

}






function game(playerSelection, computerSelection) {
    

    if (playRound(playerSelection, computerSelection) == "You Lose! Paper beats Rock" || playRound(playerSelection, computerSelection) == "You Lose! Rock beats Scissor" || playRound(playerSelection, computerSelection) == "You Lose! Scissors beats Paper") {
        
        x++
        return 'Computer score: ' + x + ' Player Score: ' + y
    
    } else if (playRound(playerSelection, computerSelection) == "You Win! Paper beats Rock" || playRound(playerSelection, computerSelection) == "You Win! Rock beats Scissor" || playRound(playerSelection, computerSelection) == "You Win! Scissors beats Paper") {
        
        y++
        return 'Computer score: ' + x + ' Player Score: ' + y

    }  else if (playRound(playerSelection, computerSelection) == 'draw') {
        
        x += 0
        return 'Computer score: ' + x + ' Player Score: ' + y
    }
}

// for (x==0 && y == 0; x<3 && y<3;) {
//     let playerSelection = prompt('Rock, Paper, or Scissor?').toLowerCase()
//     const computerSelection = computerPlay()
//     playRound(playerSelection, computerSelection)
//     console.log(playRound(playerSelection, computerSelection))
//     console.log('You chose: ' + playerSelection, ';Computer chose: ' + computerSelection)
//     console.log(game(playerSelection, computerSelection))
    

    
// }


// function winner() {
//     if (x == 3) {
//         return 'COMPUTER WINS'
//     } else if (y == 3) {
//         return 'PLAYER WINS'
//     } else {
//         return 'Keep Going!';
//     }
// }
//Problem: winner function undefined and not returning strings even though x and y are incrementing

// console.log(winner());


const rock = document.querySelector('.rock');
const btn = document.querySelector('#button');



rock.addEventListener('click', () =>  {
    let playerSelection = 'rock';
    const computerSelection = computerPlay();
    btn.onclick = () => playRound(playerSelection, computerSelection);
    
    const container = document.querySelector('#container');
    const score = document.createElement('p');
   
    score.classList.add('displayScore');
    score.textContent = 'You chose: ' + playerSelection + '; Computer chose: ' + computerSelection + ' | ' + game(playerSelection, computerSelection) + ' | ' + playRound(playerSelection, computerSelection)
   
    container.appendChild(score);
    winner()

});

const paper = document.querySelector('.paper');
paper.addEventListener('click', () => {
    let playerSelection = 'paper';
    const computerSelection = computerPlay()
    btn.onclick = () => playRound(playerSelection, computerSelection);
    
    const container = document.querySelector('#container');
    const score = document.createElement('p');
   
    score.classList.add('displayScore');
    score.textContent = 'You chose: ' + playerSelection + '; Computer chose: ' + computerSelection + ' | ' + game(playerSelection, computerSelection) + ' | ' + playRound(playerSelection, computerSelection)
   
    container.appendChild(score);
    winner();
});

const scissor = document.querySelector('.scissor');
scissor.addEventListener('click', () => {
    let playerSelection = 'scissor';
    const computerSelection = computerPlay();
    btn.onclick = () => playRound(playerSelection, computerSelection);
    
    const container = document.querySelector('#container');
    const score = document.createElement('p');
   
    score.classList.add('displayScore');
    score.textContent = 'You chose: ' + playerSelection + '; Computer chose: ' + computerSelection + ' | ' + game(playerSelection, computerSelection) + ' | ' + playRound(playerSelection, computerSelection)
   
    container.appendChild(score);
    winner()
})

//Attempting to recreate the winner function within the DOM
function winner() {
if (x == 3) {
    const computerWin = document.querySelector('#winnerMessage');
    const message = document.createElement('p');

    message.classList.add('computer')
    message.textContent = 'COMPUTER WINS'
    winnerMessage.appendChild(message);
} else if (y == 3) {
    const computerWin = document.querySelector('#winnerMessage');
    const message = document.createElement('p');

    message.classList.add('player')
    message.textContent = 'PLAYER WINS'
    winnerMessage.appendChild(message);
} else {
    console.log('First to get 3 points is the Winner!');
}
}







</script>

</body>
</html>